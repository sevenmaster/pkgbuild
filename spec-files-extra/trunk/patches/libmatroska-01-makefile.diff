--- libmatroska-1.4.1/make/linux/Makefile.orig	Sat Feb  8 13:05:16 2014
+++ libmatroska-1.4.1/make/linux/Makefile	Sat Feb  8 13:18:07 2014
@@ -81,6 +81,9 @@
 COMPILEFLAGS=$(DEBUGFLAGS) $(CXXFLAGS) $(CPPFLAGS) $(WARNINGFLAGS) $(INCLUDE)
 LINKFLAGS=-L. -L$(LIBEBML_LIB_DIR) $(LDFLAGS)
 DEPENDFLAGS  = $(CXXFLAGS) $(INCLUDE)
+LDFLAGS=-fPIC
+ARFLAGS=rcvu
+LIBSOFLAGS=-Wl,-soname,
 
 all: $(targets_$(link))
 
@@ -97,14 +100,14 @@
 	$(CXX) -c $(COMPILEFLAGS) -o $@ $<
 
 %.lo: %$(EXTENSION)
-	$(CXX) -c $(COMPILEFLAGS) -fPIC -o $@ $<
+	$(CXX) -c $(COMPILEFLAGS) $(LOFLAGS) -o $@ $<
 
 $(LIBRARY): $(objects)
-	$(AR) rcvu $@ $(objects)
+	$(AR)  $(ARFLAGS) $@ $(objects)
 	$(RANLIB) $@
 
 $(LIBRARY_SO): $(objects_so)
-	$(CXX) -shared -Wl,-soname,$(LIBRARY_SO_VER) -o $(LIBRARY_SO_VER) $(objects_so) -lebml
+	$(CXX) -shared $(LIBSOFLAGS)$(LIBRARY_SO_VER) -o $(LIBRARY_SO_VER) $(objects_so) -lebml
 	rm -f $(LIBRARY_SO)
 	ln -s $(LIBRARY_SO_VER) $(LIBRARY_SO)
 
